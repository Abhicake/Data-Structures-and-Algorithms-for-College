#include<stdio.h>
#include<stdlib.h>

typedef struct node
{
  int data;
  struct node *l, *r;
}node;

node  *head=NULL;
node * que[100];
int f=0,b=0;

node * create(int data){
    node *t=(node *)malloc(sizeof(node));
    t->data=data;
    t->l=NULL;
    t->r=NULL;
    return t;
}

void add(int data){
    node *t=create(data);
    node *p=head;
    if(head==NULL){
        head=t;
    }
    else{
        while(1){
            if(data>p->data){
                if(p->r) p=p->r;
                else {
                    p->r=t;
                    return ;
                }
            }
            else if(data==p->data) return;
            else{
                if(p->l) p=p->l;
                else {
                    p->l=t;
                    return ;
                }
            }
        }
        
    }
    
}



void print_right_view ()
{
    int prev_back=-1;
    
    que[b++]=head;
    
	while(prev_back!=b){
        int i,n=b;
        for(i=f;i<n;++i){
            if(que[i]->l) que[b++]=que[i]->l;
            if(que[i]->r) que[b++]=que[i]->r;
            ++f;
        }
        printf("%d ",que[n-1]->data );
        prev_back=n;
    }
    
}

int main ()
{
  int n;
  printf("Enter number of elements: ");
  scanf ("%d", &n);
  printf("Enter %d elements: \n",n);
  while (n--)
    {
      int d;
      scanf ("%d", &d);
      add (d);
    }
  printf ("The right view:\n");
  print_right_view ();
}



/*
OUTPUT:------------------------------------------------------------------------------------------------------

Enter number of elements: 11
Enter 11 elements:
20
10
25
8
15
23
28
14
18
12
11
The right view:
20 25 28 18 12 11

*/
